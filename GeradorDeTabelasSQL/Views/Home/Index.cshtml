@model TabelaModel

@{
    ViewData["Title"] = "Gerador";
}

<div class="text-center">
    <form asp-controller="Home" asp-action="GerarTabela" method="post">

        <label>
            Número de Pessoas: <input type="number" placeholder="Digite a quantidade" name="NumeroDePessoas" asp-for="@Model.NumeroDePessoas" />
            
        </label>

        <br />


        @for(int i = 0; i < Model.Nome.Count; i++)
        {
            <label>
                <input type="checkbox" name="camposSelecionados" value="@Model.Nome[i]" class="campo-checkbox" />@Model.Nome[i]
            </label>
        }
        <br />
        <button type="submit">Gerar</button>

        <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
        <script>

            //Atribui ao checkbox marcado o valor do Campo. Caso o checkbox não esteja marcado, o valor do Campo é null
            $(document).ready(function () {
                $('.campo-checkbox').change(function () {
                    var checkbox = $(this);
                    checkbox.val(checkbox.prop('checked') ? checkbox.attr('value') : '');
                });
            });
        </script>
    </form>
</div>
